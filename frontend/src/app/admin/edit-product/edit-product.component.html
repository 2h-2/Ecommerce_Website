<div class="container mt-5">
  <div class="card shadow border-0 rounded-lg p-4">
    <div class="card-header text-center bg-primary text-white rounded-lg">
      <h5 class="mb-0">Edit Product</h5>
    </div>
    <div class="card-body">
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
        <!-- Title -->
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input
            id="name"
            type="text"
            class="form-control"
            formControlName="name"
            placeholder="Enter product title"
          />
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea
            id="description"
            class="form-control"
            formControlName="description"
            rows="3"
            placeholder="Enter product description"
          ></textarea>
        </div>

        <!-- Price -->
        <div class="mb-3">
          <label for="price" class="form-label">Price</label>
          <input
            id="price"
            type="number"
            class="form-control"
            formControlName="unitPrice"
            placeholder="Enter product price"
          />
        </div>
        <div class="col-md-6 mb-3">
          <label for="discount" class="form-label">Discount (%)</label>
          <input
            id="discount"
            type="number"
            class="form-control"
            formControlName="discount"
            [min]="0"
            placeholder="Enter discount percentage"
          />
        </div>

        <!-- Categories -->
        <div ngbDropdown class="dropdown mb-3">
          <label class="form-label">Category</label>
          <button class="btn btn-outline-secondary dropdown-toggle w-100 text-start"
          ngbDropdownToggle
          type="button"
          >
          {{ selectedCatg ? selectedCatg : 'Select Category' }}
          </button>
          <div ngbDropdownMenu>
            <div *ngFor="let cat of availableCategories" class="dropdown-item">
              <label class="w-100">
                <input
                  type="radio"
                  name="category"
                  [value]="cat"
                  (change)="oncatgSelect(cat, $event)"
                />
                {{ cat.categoryName }}
              </label>
            </div>
          </div>
        </div>

        <!-- Sizes -->
        <div ngbDropdown class="dropdown mb-3">
          <label class="form-label">Sizes</label>
          <button
            class="btn btn-outline-secondary dropdown-toggle w-100 text-start"
            ngbDropdownToggle
            type="button"
          >
            {{ selectedSizes.length ? selectedSizesnames.join(', ') : 'Select Sizes' }}
          </button>
          <div ngbDropdownMenu >
            <div *ngFor="let size of availableSizes" class="dropdown-item">
              <label>
                <input
                  type="checkbox"
                  [value]="size"
                  (change)="onSizeSelect(size, $event)"
                />
                {{ size.name }}
              </label>
            </div>
          </div>
        </div>
        <!-- Colors -->
        <div ngbDropdown class="dropdown mb-3">
          <label class="form-label">Colors</label>
          <div class="dropdown">
            <button
              class="btn btn-outline-secondary dropdown-toggle w-100 text-start"
              type="button"
              id="colorsDropdown"
              ngbDropdownToggle
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              {{ selectedColors.length ? selectedColorsnames.join(', ') : 'Select Colors' }}
            </button>
            <ul ngbDropdownMenu class="dropdown-menu w-100" aria-labelledby="colorsDropdown">
              <li *ngFor="let color of availableColors" class="dropdown-item">
                <label>
                  <input
                    type="checkbox"
                    [value]="color"
                    (change)="onColorSelect(color, $event)"
                  />
                  {{ color.name }}
                </label>
              </li>
            </ul>
          </div>
        </div>

        <!-- Images -->
        <div class="mb-3">
          <label for="images" class="form-label">Images</label>
          <input
            id="images"
            type="file"
            class="form-control"
            (change)="onImageSelect($event)"
            multiple
            accept="image/*"
          />
        </div>

        <!-- Submit Button -->
        <div class="text-end">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-upload"></i> Edit
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
